default:
  repositorySpec:
    # Build key on gitlab repo
    buildKey: VAULT_TOKEN
    enabled: true
    # renew the keys each hour
    renewPeriod:  1h
  tokenSpec:
    # vault spec see https://www.vaultproject.io/docs/auth/token.html#auth-token-create-role_name
    policies:
    - default
    meta:
      description: this token was generated by the default policy
    ttl: 2h
    display_name: default_token
    renewable: false
# define policies per group
groups:
  publicdev:
    default:
      repositorySpec:
        # Build key on gitlab repo
        buildKey: PUBLIC_VAULT_TOKEN
        enabled: true
        # renew the keys each hour
        renewPeriod:  30m
      tokenSpec:
        # vault spec see https://www.vaultproject.io/docs/auth/token.html#auth-token-create-role_name
        policies:
        - default
        meta:
          description: this token was generated by the default policy for the publicdev group
        ttl: 1h
        display_name: default_token_publicdev
        renewable: false
    projects:
      spark:
        repositorySpec:
          # Build key on gitlab repo
          buildKey: SPARK_SECRET_TOKEN
          enabled: true
          # renew the keys each hour
          renewPeriod:  3h
        tokenSpec:
          # vault spec see https://www.vaultproject.io/docs/auth/token.html#auth-token-create-role_name
          policies:
          - default
          meta:
            description: this token was generated by the  policy for the  spark project on the publicdev group
          ttl: 6h
          display_name: default_token_publicdev_spark
          renewable: false

